# ๐๏ธ DOT SHOP - ูุฑูุดฺฏุงู ููุทู

## ุงููพุฑุงุชูุฑ ูุฑูุด ุดุฎุต ุจุง ฺฉูพุงุฑฺูโุณุงุฒ ฺูุฏ ูพูุชูุฑู

**DOT SHOP** ฺฉ ุณุณุชู ูุฑูุดฺฏุงู ุงูุชุฑูุช ููุดููุฏ ุงุณุช ฺฉู ุจู ุตูุฑุช ููุฒูุงู ุงุฒ ฑฐ+ ฺฉุงูุงู ูุฑูุด ุงุฑุงู ุณูุฏ ูโุจุฑุฏ ู ุชุฌุฑุจูโุง ฺฉูพุงุฑฺู ุจุฑุง ูุดุชุฑ ุงุฌุงุฏ ูโฺฉูุฏ.

## ๐ ูฺฺฏโูุง ฺฉูุฏ

### ๐ฏ ุณุณุชู ููุดููุฏ ุงูุชุฎุงุจ ูพูุชูุฑู
- **ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ุจุดุชุฑู ุณูุฏ**: ุณุณุชู ุจู ุตูุฑุช Real-time ุจูุชุฑู ูพูุชูุฑู ุฑุง ุจุฑ ุงุณุงุณ ฺฉูุณูู ุงูุชุฎุงุจ ูโฺฉูุฏ
- **ููุงุณู ฑฐ+ ูพูุชูุฑู**: ุฏุฌโฺฉุงูุงุ ููู ุงุณุชูุฑุ ุชุฑุจุ ุฏูุงุฑุ ุจุงูููุ ุดูพูุฑ ู...
- **ุจูโุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ ููุช**: ูุฑ ณฐ ุฏููู ฺฉุจุงุฑ

### ๐ ฺฉุงูุงูโูุง ูุฑูุด

#### ูพูุชูุฑูโูุง ูุฑูุด ุขููุงู:
1. **ุฏุฌโฺฉุงูุง** - น-ฒฐูช ฺฉูุณูู
2. **ููู ุงุณุชูุฑ** - ณฐ-ตฐูช ฺฉูุณูู (ูพูุดุงฺฉ)
3. **ุจุงููู** - ฒตูช ฺฉูุณูู (ูุฏ ู ุฒุจุง)
4. **ุชุฑุจ** - ฑฐูช ฺฉูุณูู (ููุงุณู ููุช)
5. **ุฏูุงุฑ** - ุจุฏูู ฺฉูุณูู (ูุฑูุด ูุณุชูู)
6. **ุดูพูุฑ** - ุจุฏูู ฺฉูุณูู (ูุฑูุด ูุณุชูู)

#### ูพุงูโุฑุณุงูโูุง:
7. **ุชูฺฏุฑุงู** - ุฑุจุงุช ูุฑูุด ุงุฎุชุตุงุต
8. **ูุงุชุณุงูพ** - ุฑุจุงุช ุฎูุฏฺฉุงุฑ
9. **ุงูุณุชุงฺฏุฑุงู** - ุงุชุตุงู ุจู Direct

#### ูพูุชูุฑูโูุง ุบุฐุง (ุงุฎุชุงุฑ):
10. **ุงุณููพโููุฏ**
11. **ุชูพุณโููุฏ**

### ๐ป ุชฺฉููููฺโูุง

**Backend:**
- Python 3.11+ (FastAPI)
- PostgreSQL 15
- Redis 7
- Celery (Task Queue)

**Frontend:**
- Next.js 14
- React 18
- TailwindCSS
- TypeScript

**Bot:**
- Python Telegram Bot
- Async/Await Architecture

**DevOps:**
- Docker & Docker Compose
- Nginx
- Let's Encrypt SSL

## ๐ฆ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

```bash
# ูุตุจ Docker ู Docker Compose
sudo apt update
sudo apt install docker.io docker-compose

# ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
git clone https://github.com/shily-billy/control.git dotshop
cd dotshop
```

### ุชูุธูุงุช ุงููู

ฑ. **ฺฉูพ ูุงู ูุญุท:**

```bash
cp config/.env.example config/.env
```

ฒ. **ูุฑุงุด ุชูุธูุงุช ุฏุฑ `config/.env`:**

```env
# ูุดุฎุตุงุช ูุฑูุดฺฏุงู
SHOP_NAME=ูุฑูุดฺฏุงู ููุทู
SHOP_DOMAIN=dotshop.ir
SHOP_OWNER=ูุงู ุดูุง

# ุฏุชุงุจุณ
DB_HOST=postgres
DB_PORT=5432
DB_NAME=dotshop
DB_USER=dotshop_user
DB_PASSWORD=your_secure_password_here

# Redis
REDIS_HOST=redis
REDIS_PORT=6379

# ุฑุจุงุช ุชูฺฏุฑุงู
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather
TELEGRAM_ADMIN_ID=your_telegram_user_id

# API Keys ูพูุชูุฑูโูุง (ุฏุฑุงูุช ุงุฒ ูุฑ ูพูุชูุฑู)
DIGIKALA_AFFILIATE_ID=
MIHANSTORE_PARTNER_ID=
BAMILO_AFFILIATE_KEY=
TOROB_API_KEY=

# ุชูุธูุงุช ุงููุช
SECRET_KEY=generate_a_long_random_string_here
JWT_SECRET=another_random_string_for_jwt

# ุชูุธูุงุช ุงูู (ุงุฎุชุงุฑ)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# ุชูุธูุงุช ูพุงูฺฉ (ุงุฎุชุงุฑ)
SMS_API_KEY=your_sms_api_key
SMS_SENDER=your_sms_number
```

### ุงุฌุฑุง ูพุฑูฺู

```bash
# ุณุงุฎุช ู ุงุฌุฑุง ฺฉุงูุชูุฑูุง
docker-compose up -d

# ูุดุงูุฏู ูุงฺฏโูุง
docker-compose logs -f

# ุชููู ุณุฑูุณโูุง
docker-compose down
```

## ๐ฏ ูุญูู ุงุณุชูุงุฏู

### ฑ. ุฏุณุชุฑุณ ุจู ูพูู ูุฏุฑุช

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒ ุจู ุขุฏุฑุณ ุฒุฑ ุจุฑูุฏ:

```
http://localhost:3000/admin
```

ุงุทูุงุนุงุช ูุฑูุฏ ุงููู:
- ูุฒุฑูู: `admin`
- ูพุณูุฑุฏ: `admin123` (ุญุชูุงู ุชุบุฑ ุฏูุฏ!)

### ฒ. ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุชูฺฏุฑุงู

ฑ. ุจู [@BotFather](https://t.me/BotFather) ุฏุฑ ุชูฺฏุฑุงู ูพุงู ุฏูุฏ
ฒ. ุฏุณุชูุฑ `/newbot` ุฑุง ุจุฒูุฏ
ณ. ูุงู ู ูุฒุฑูู ุฑุจุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ
ด. ุชูฺฉู ุฏุฑุงูุช ุฑุง ุฏุฑ ูุงู `.env` ูุฑุงุฑ ุฏูุฏ
ต. ุฑุจุงุช ุฑุง ุจุง ุฏุณุชูุฑ ุฒุฑ ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ:

```bash
docker-compose restart telegram-bot
```

### ณ. ุงุถุงูู ฺฉุฑุฏู ูุญุตููุงุช

**ุฑูุด ฑ: Import ุฎูุฏฺฉุงุฑ ุงุฒ ูพูุชูุฑูโูุง**

```bash
# Import ุงุฒ ุฏุฌโฺฉุงูุง
docker-compose exec backend python scripts/import_digikala.py

# Import ุงุฒ ููู ุงุณุชูุฑ
docker-compose exec backend python scripts/import_mihanstore.py
```

**ุฑูุด ฒ: ุงุถุงูู ฺฉุฑุฏู ุฏุณุช ุงุฒ ูพูู ุงุฏูู**

ุจู ุจุฎุด `ูุญุตููุงุช > ุงูุฒูุฏู ูุญุตูู ุฌุฏุฏ` ุจุฑูุฏ

### ด. ุฏุฑุงูุช ููฺฉโูุง ุงููุช

ูุฑ ูพูุชูุฑู ุณุณุชู ููฺฉุงุฑ ุฏุฑ ูุฑูุด ุฏุงุฑุฏ:

#### ุฏุฌโฺฉุงูุง:
1. ุจู [ูพูู ููฺฉุงุฑ ุฏุฌโฺฉุงูุง](https://www.digikala.com/seller/) ุจุฑูุฏ
2. ุซุจุชโูุงู ฺฉูุฏ
3. ฺฉุฏ ุงููุช ุฑุง ฺฉูพ ฺฉูุฏ

#### ููู ุงุณุชูุฑ:
1. ุจู [ูพูู ุดุฑฺฉุง ููู ุงุณุชูุฑ](https://mihanstore.net/partner/) ุจุฑูุฏ  
2. ุซุจุชโูุงู ู ฺฉุฏ ุดุฑฺฉ ุฑุง ุฏุฑุงูุช ฺฉูุฏ

#### ุณุงุฑ ูพูุชูุฑูโูุง:
ูุดุงุจู ุฑูุด ุจุงูุง ุจุฑุง ูุฑ ูพูุชูุฑู

## ๐ฑ ฺฉุงูุงูโูุง ุชุจูุบ ู ูุฑูุด

### ุชูฺฏุฑุงู
- ฺฉุงูุงู ุนููู ูุฑูุดฺฏุงู
- ฺฏุฑููโูุง ุชุฎูู ู ูพุดููุงุฏ
- ุฑุจุงุช ุณูุงุฑุด ุฎูุฏฺฉุงุฑ

### ุงูุณุชุงฺฏุฑุงู  
- ูพุณุชโูุง ูุญุตูู ุจุง ููฺฉ ุจู
- ุงุณุชูุฑโูุง ุชุจูุบุงุช
- ุฑูุฒ ูุนุฑู ูุญุตููุงุช

### ุฏูุงุฑ ู ุดูพูุฑ
- ุขฺฏูโูุง ุฎูุฏฺฉุงุฑ ูุญุตููุงุช
- ุจูโุฑูุฒุฑุณุงู ููุช ุฑูุฒุงูู

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ุชูุธู ฺฉูุณููโูุง

ูุงู `config/commissions.json`:

```json
{
  "platforms": {
    "digikala": {
      "electronics": 0.12,
      "fashion": 0.15,
      "default": 0.09
    },
    "mihanstore": {
      "fashion": 0.50,
      "shoes": 0.45,
      "default": 0.30
    },
    "bamilo": {
      "fashion": 0.25,
      "beauty": 0.25,
      "default": 0.20
    }
  }
}
```

### ุงูฺฏูุฑุชู ุงูุชุฎุงุจ ููุดููุฏ

ุณุณุชู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจูุชุฑู ูพูุชูุฑู ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ:

```python
def select_best_platform(product):
    """
    ุงูุชุฎุงุจ ูพูุชูุฑู ุจุง ุจุดุชุฑู ุณูุฏ
    """
    platforms = get_available_platforms(product)
    
    best_platform = max(platforms, key=lambda p: (
        p.commission * product.price  # ุณูุฏ ุฎุงูุต
        - p.shipping_cost             # ูุฒูู ุงุฑุณุงู
        + p.reliability_score         # ุงุนุชุจุงุฑ ูพูุชูุฑู
    ))
    
    return best_platform
```

## ๐ ฺฏุฒุงุฑุดโฺฏุฑ

### ุฏุงุดุจูุฑุฏ ูุฑูุด
- ูุฑูุด ุฑูุฒุงููุ ููุชฺฏุ ูุงูุงูู
- ูููุฏุงุฑ ุฏุฑุขูุฏ ุจู ุชูฺฉฺฉ ูพูุชูุฑู
- ูุญุตููุงุช ูพุฑูุฑูุด
- ูุฑุฎ ุชุจุฏู (Conversion Rate)

### ุตุงุฏุฑุงุช ฺฏุฒุงุฑุด

```bash
# ฺฏุฒุงุฑุด ูุฑูุด ูุงูุงูู
docker-compose exec backend python scripts/export_sales.py --month 2026-01

# ฺฏุฒุงุฑุด ฺฉูุณููโูุง
docker-compose exec backend python scripts/commission_report.py
```

## ๐ ุงููุช

- ุฑูุฒูฺฏุงุฑ ูพุณูุฑุฏูุง ุจุง bcrypt
- JWT ุจุฑุง ุงุญุฑุงุฒ ููุช
- Rate limiting ุจุฑุง API
- HTTPS ุงุฌุจุงุฑ ุฏุฑ production
- Validation ฺฉุงูู ูุฑูุฏโูุง

## ๐ ุฏูพูู Production

### ุงุณุชูุงุฏู ุงุฒ VPS

```bash
# ุงุชุตุงู ุจู ุณุฑูุฑ
ssh user@your-server-ip

# ูุตุจ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# ฺฉููู ู ุฑุงูโุงูุฏุงุฒ
git clone https://github.com/shily-billy/control.git dotshop
cd dotshop
cp config/.env.example config/.env
# ูุฑุงุด .env
docker-compose -f docker-compose.prod.yml up -d
```

### ุชูุธู ุฏุงููู ู SSL

```bash
# ูุตุจ Certbot
sudo apt install certbot python3-certbot-nginx

# ุฏุฑุงูุช SSL
sudo certbot --nginx -d dotshop.ir -d www.dotshop.ir
```

## ๐ ูุณุชูุฏุงุช API

ุจุนุฏ ุงุฒ ุฑุงูโุงูุฏุงุฒุ ูุณุชูุฏุงุช API ุฏุฑ ุขุฏุฑุณ ุฒุฑ ููุฌูุฏ ุงุณุช:

```
http://localhost:8000/docs
```

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:

1. Fork ฺฉูุฏ
2. ุจุฑูฺ ุฌุฏุฏ ุจุณุงุฒุฏ (`git checkout -b feature/amazing-feature`)
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ (`git commit -m 'Add amazing feature'`)
4. Push ฺฉูุฏ (`git push origin feature/amazing-feature`)
5. Pull Request ุจุงุฒ ฺฉูุฏ

## ๐ ูพุดุชุจุงู

- **ุงูู**: support@dotshop.ir
- **ุชูฺฏุฑุงู**: @dotshop_support
- **ูุณุชูุฏุงุช**: [docs.dotshop.ir](https://docs.dotshop.ir)

## ๐ ูุงุณูุณ

MIT License - ุจุฑุง ุงุณุชูุงุฏู ุดุฎุต ู ุชุฌุงุฑ ุขุฒุงุฏ ูุณุชุฏ.

---

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ฺฉุณุจโูฺฉุงุฑูุง ุงุฑุงู**
